<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <input type="file" name="file" onchange="selectedVideo(this)">

    <video id="video" controls>
        <source id="source" type="video/mp4">
    </video>
    <p>Current Time is: <span id="current-time"></span></p>
    <button onclick="handleClick()">What time is the video at</button>

<script>

        const video = document.getElementById('video');
        const currentTime = document.getElementById('current-time');
        // video.addEventListener('timeupdate', () => {
        //     const minutes = Math.floor(video.currentTime / 60);
        //     const seconds = Math.floor(video.currentTime - minutes * 60);
          
        //     const minutesDisplay = minutes < 10 ? `0${minutes}` : minutes;
        //     const secondsDisplay = seconds < 10 ? `0${seconds}` : seconds;
        //     currentTime.textContent = `${minutesDisplay}:${secondsDisplay}`;
        // });

        function handleClick(){
            const minutes = Math.floor(video.currentTime / 60);
            const seconds = Math.floor(video.currentTime - minutes * 60);
          
            const minutesDisplay = minutes < 10 ? `0${minutes}` : minutes;
            const secondsDisplay = seconds < 10 ? `0${seconds}` : seconds;
            currentTime.textContent = `${minutesDisplay}:${secondsDisplay}`;
        }        

        function selectedVideo(self){
            var file = self.files[0];
            var reader = new FileReader()

            reader.onload = function(e){
                var src = e.target.result;
                var video = document.getElementById("video");
                var source = document.getElementById("source");
                source.setAttribute("src",src)
                video.load();
                video()
        }

        reader.readAsDataURL(file)
    }
</script>
</body>
</html>